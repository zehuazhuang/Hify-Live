import SwiftUI
import GoogleSignIn
import SwiftfulRouting

struct yhXTx88AnQlgWnTKSQDWeXg: Codable {
    
    let bqFlC8rSGVAykM: String //platform
    let floxo4ndK6gGCn1l2W51drazUKbnGnD: String //code
    let fFlQ9sA2tf: String //redirectUri
    let lO4RZ2gjPGqDkXW4xBejJ8I: String //codeVerifier
    let bOdVsCGgJMcQHEtiZDG: String //token
    
    func encode(to encoder: Encoder) throws {
        var wAcglvJU = encoder.container(keyedBy: bonDyqD2YnaVJW.self)
        
        try wAcglvJU.encode(
            bqFlC8rSGVAykM,
            forKey: bonDyqD2YnaVJW(
                "zCoZqFac9ocmBnz8DaqLtQ==".bFHEatcgE4zzU9TCfDonsu()
            )
        )
        
        try wAcglvJU.encode(
            floxo4ndK6gGCn1l2W51drazUKbnGnD,
            forKey: bonDyqD2YnaVJW(
                "Kn2/ws1Rnf8zNd5fHo1Oxw==".bFHEatcgE4zzU9TCfDonsu()
            )
        )
        
        try wAcglvJU.encode(
            fFlQ9sA2tf,
            forKey: bonDyqD2YnaVJW(
                "oZjCEUC3dEnaZV8fjSSyIw==".bFHEatcgE4zzU9TCfDonsu()
            )
        )
        
        try wAcglvJU.encode(
            lO4RZ2gjPGqDkXW4xBejJ8I,
            forKey: bonDyqD2YnaVJW(
                "IcYJ3epyW89jB6F/3ca1yA==".bFHEatcgE4zzU9TCfDonsu()
            )
        )
        
        try wAcglvJU.encode(
            bOdVsCGgJMcQHEtiZDG,
            forKey: bonDyqD2YnaVJW(
                "km2wMXC6wIJi3UcUM7XhmA==".bFHEatcgE4zzU9TCfDonsu()
            )
        )
    }
}

struct zkaqn9Jn: View {
    
    @Environment(\.router) var hTU5wZj8E2nU59

    var body: some View {
        ZStack{
            ZJ7h766mz(tMmEWWlfgUag: "qS7I9tZ871czCL32")
            VStack(spacing: 0){
                ZJ7h766mz(tMmEWWlfgUag: "logo")
                    .frame(width: 95,height: 95)
                    .clipShape(RoundedRectangle(cornerRadius: 16, style: .continuous))
                    .padding(.top,205)
                Spacer()
                VStack(spacing: 68){
                    VStack(spacing: 24) {
//                        RoundedRectangle(cornerRadius: 36)
//                            .fill(Color.white)
//                            .frame(height: 48)
//                            .overlay(alignment: .center) {
//                                HStack{
//                                    RoundedRectangle(cornerRadius: 0)
//                                        .fill(Color.clear)
//                                        .frame(width: 24,height: 24)
//                                        .overlay {
//                                            ZJ7h766mz(tMmEWWlfgUag: "gJC9l7qXpl")
//                                        }
//                                    Spacer()
//                                }
//                                .padding(.leading,24)
//                                Text("RkJq0jqVpdoZguzw8ewIYA==".bFHEatcgE4zzU9TCfDonsu())
//                                    .g0LIIcoZQsOjyND9(
//                                        size: 16,
//                                        weight: .semibold,
//                                        color: Color(red: 13/255, green: 13/255, blue: 18/255)
//                                    )
//                            }
//                            .padding(.horizontal,36)
                        Button{
                            EfqJ9.hlLgQUr6MegOX6Bv.w9VPVHt()
                            MNcU5G2d5lovPsrWsZR.qmeyXuu0AeNRHIjoVH8WkPZTOKbDpgVv.uN4EYG5707zDhAdkPqw(x32VMaqCadHB: dy8ovFCSzlHO2h()) { sVaytka8rmaCF in
                                switch sVaytka8rmaCF {
                                case .success(let on98qnn55lS6bK68e):
                                    let syVAw8opyyC18fy2P11 = yhXTx88AnQlgWnTKSQDWeXg(
                                        bqFlC8rSGVAykM: "GvLdksIxbN40IeWj8FLE6A==".bFHEatcgE4zzU9TCfDonsu(), //GOOGLE
                                        floxo4ndK6gGCn1l2W51drazUKbnGnD: "",
                                        fFlQ9sA2tf: "",
                                        lO4RZ2gjPGqDkXW4xBejJ8I: "",
                                        bOdVsCGgJMcQHEtiZDG: on98qnn55lS6bK68e.ocl2SJadHjn67BFo7Gd9deM2Mc4hF ?? ""
                                    )
                                    
                                    WOKmjUjM.dq0JZ94RcmDb3.zhuqPvhpwoDjs(tk5afnKIwTiQL5Ai79O0AnK3f5G: "eYD8YW6vlAe/1ZzO7FmQNMqhZywgtvS/TinJ1Y0VgVc=".bFHEatcgE4zzU9TCfDonsu(), b3q0LlCSk: syVAw8opyyC18fy2P11) { (hEFVdnk1mBu9OXgq2wYAWzeztE0gqr: Result<JUsmLn3i59tKLD7RL294I0nAG, Error>) in
                                        switch hEFVdnk1mBu9OXgq2wYAWzeztE0gqr {
                                        case .success(let cmBllstUOfe):
                                            print(cmBllstUOfe.code)
                                            if cmBllstUOfe.code == "ZFEsEWiI1qFkYs8V4dAooA==".bFHEatcgE4zzU9TCfDonsu() {
                                                guard
                                                    let j9NQ5xqz3ZL = cmBllstUOfe.result,
                                                    !j9NQ5xqz3ZL.isEmpty
                                                else {
                                                    return
                                                }
                                                let c55guwIGLg4RHRJey8dk9m3jln8NMOo = j9NQ5xqz3ZL.hL9dV3bQ2fK6sJ8p()
                                                print(c55guwIGLg4RHRJey8dk9m3jln8NMOo)
                                                if let nAT4VBfqN62FOc8x6XFADpNqJ = c55guwIGLg4RHRJey8dk9m3jln8NMOo.kPOR9FHwcEZJv9YDf4W01D() {
                                                    let hOQva7h2 = nAT4VBfqN62FOc8x6XFADpNqJ["81G1W3wOXjFG2Mp3CbOpOg==".bFHEatcgE4zzU9TCfDonsu()]
                                                    if let qb9c6NkMMK5 = hOQva7h2 as? [String: Any] {
                                                        // 老用户
                                                        print(qb9c6NkMMK5)
                                                        let z6DrSn7Ai = Calendar.current
                                                        let dateMinus22Years = z6DrSn7Ai.date(byAdding: .year, value: -22, to: Date()) ?? Date()
                                                        let lPzflCklCBlTkurInYG0Owe = Int64(dateMinus22Years.timeIntervalSince1970 * 1000)
                                                        let tF60d: Int64
                                                        if let lSb3zx5YG4IGFUt1CV9lI9Js = qb9c6NkMMK5["r9m4DBfC1PJPAxrJqUKxjw=="] as? Int64 {
                                                            tF60d = lSb3zx5YG4IGFUt1CV9lI9Js
                                                        } else if let wdBwSgo9knIbCLZ7Jk6k9aXNYaIgn5S = qb9c6NkMMK5["r9m4DBfC1PJPAxrJqUKxjw=="] as? Int {
                                                            // 如果字典里是 Int 类型
                                                            tF60d = Int64(wdBwSgo9knIbCLZ7Jk6k9aXNYaIgn5S)
                                                        } else {
                                                            tF60d = lPzflCklCBlTkurInYG0Owe
                                                        }
                                                        // 将毫秒转换为秒
                                                        let zX6HlaP = Date(timeIntervalSince1970: TimeInterval(tF60d) / 1000)
                                                        // 设置日期格式
                                                        let nrTgHasms = DateFormatter()
                                                        nrTgHasms.dateFormat = "rpxVSISmgtmCzrTRpHhzTw==".bFHEatcgE4zzU9TCfDonsu()
                                                        nrTgHasms.timeZone = TimeZone.current // 或者指定时区

                                                        let jZU3hAIkF1Q2ZT61Lpo7W2 = nrTgHasms.string(from: zX6HlaP)
                                                        
                                                        let tjo7FSBXRqDGtC42gybnBERwh = cpEtaR(wKrCAroUqTbC2rd9pcKfELDDQ: on98qnn55lS6bK68e.c5O9meXEy5dOelOBZ3QpElqG, hVH5DxQ7Q558SdJWLt: nAT4VBfqN62FOc8x6XFADpNqJ["V479/ySOsucS0vXiEwceFA==".bFHEatcgE4zzU9TCfDonsu()] as? String ?? "", cImAJ4BdZYF9hJ4x: String(nAT4VBfqN62FOc8x6XFADpNqJ["oPJJrP0sgO34aN0D8qwL6Q==".bFHEatcgE4zzU9TCfDonsu()] as? Int ?? 0), hmNWPkT: on98qnn55lS6bK68e.sI9ab2lfhqbpaKAkkJ18gYAi ?? "", fRKTOb3: qb9c6NkMMK5["BRZTNxzF2tiDYdydqQz6ZQ==".bFHEatcgE4zzU9TCfDonsu()] as? String ?? "", oT9WD2aupYPQUmLUQMwvo: qb9c6NkMMK5["epJeJ5mHHtIgvijlrcmUsg==".bFHEatcgE4zzU9TCfDonsu()] as? String ?? "", wLsFSPTENSsbKoQTDC:qb9c6NkMMK5["L5n0qfdvZqNQucJVPr5TZg==".bFHEatcgE4zzU9TCfDonsu()] as? Int ?? 0, spnXcOm: qb9c6NkMMK5["n5PP0bel6KDkIOVbFb+EYg==".bFHEatcgE4zzU9TCfDonsu()] as? String ?? "", ptxrDJchMpilBtm: jZU3hAIkF1Q2ZT61Lpo7W2, vOPrjVF8S5VO8uXporotTUlUO: qb9c6NkMMK5["yz0sixGzozcHcCcfNkfJkg==".bFHEatcgE4zzU9TCfDonsu()] as? [String] ?? [],)
                                                        
                                                        WOKmjUjM.dq0JZ94RcmDb3.zhuqPvhpwoDjs(tk5afnKIwTiQL5Ai79O0AnK3f5G: "//Yz8OnEreyddD+30LWrWw==".bFHEatcgE4zzU9TCfDonsu(), b3q0LlCSk: tjo7FSBXRqDGtC42gybnBERwh) { (b3zxt9oFNSK8MBwN1W43: Result<JUsmLn3i59tKLD7RL294I0nAG, Error>) in
                                                            switch b3zxt9oFNSK8MBwN1W43 {
                                                            case .success(let gqjUVaiuMpMg9Tt):
                                                                print(gqjUVaiuMpMg9Tt.code)
                                                                if gqjUVaiuMpMg9Tt.code == "ZFEsEWiI1qFkYs8V4dAooA==".bFHEatcgE4zzU9TCfDonsu() {
                                                                    guard
                                                                        let eAC6HoUudAyh = gqjUVaiuMpMg9Tt.result,
                                                                        !eAC6HoUudAyh.isEmpty
                                                                    else {
                                                                        return
                                                                    }
                                                                    let xPQrkVrZihZJl1fsnnMP = eAC6HoUudAyh.hL9dV3bQ2fK6sJ8p()
                                                                    print(xPQrkVrZihZJl1fsnnMP)
                                                                    if let u5vLFlYL5m6LMIVVh08Uj5D = xPQrkVrZihZJl1fsnnMP.kPOR9FHwcEZJv9YDf4W01D() {
                                                                        ZRsco2bysq39NmLBBhFtU044p.i4WviDgqenaDYvEMcIY9fsb4smXSQb1.xPI2sSbHAr7u1jAZisVjgs8JXZCRZ07t(tEkU2eDdLMlnNOn: u5vLFlYL5m6LMIVVh08Uj5D["km2wMXC6wIJi3UcUM7XhmA==".bFHEatcgE4zzU9TCfDonsu()] as? String ?? "")
                                                                        ZRsco2bysq39NmLBBhFtU044p.i4WviDgqenaDYvEMcIY9fsb4smXSQb1.bM7TelSL1RiLs8539FWAC = u5vLFlYL5m6LMIVVh08Uj5D["oPJJrP0sgO34aN0D8qwL6Q==".bFHEatcgE4zzU9TCfDonsu()] as? Int ?? 0
                                                                        ZRsco2bysq39NmLBBhFtU044p.i4WviDgqenaDYvEMcIY9fsb4smXSQb1.fP9yQC0UH00 =  u5vLFlYL5m6LMIVVh08Uj5D["HKd/L3NovhrAFZdHjyoJDg==".bFHEatcgE4zzU9TCfDonsu()] as? String ?? ""
                                                                        IyfdHMdY.bTa3L6BoprG.iBmPfFGfxu5JV7Aii7 = u5vLFlYL5m6LMIVVh08Uj5D
                                                                        QlzJ4yJcxJXY2paN.rmjXXUocPJY2DEcTxiziKU6Nehjz1q.m3nArFwdHhI82cPUmiqW8PtaaHz("XS5YWJG/KqDXh4sd84P1/iqUTmmqCkg0qxMxw7i9rKo=")
                                                                        EfqJ9.hlLgQUr6MegOX6Bv.gCQfGMHte60TbdzVw()
                                                                        hTU5wZj8E2nU59.showScreen(.fullScreenCover){ _ in
                                                                            ME9B8ZCwVQxn()
                                                                        }
                                                                    }
                                                                } else {
                                                                    EfqJ9.hlLgQUr6MegOX6Bv.gCQfGMHte60TbdzVw()
                                                                    QlzJ4yJcxJXY2paN.rmjXXUocPJY2DEcTxiziKU6Nehjz1q.m3nArFwdHhI82cPUmiqW8PtaaHz(gqjUVaiuMpMg9Tt.message,z2E1geUN5miQ95SpoCG: false)
                                                                }
                                                                
                                                            case .failure(_):
                                                                EfqJ9.hlLgQUr6MegOX6Bv.gCQfGMHte60TbdzVw()
                                                                QlzJ4yJcxJXY2paN.rmjXXUocPJY2DEcTxiziKU6Nehjz1q.m3nArFwdHhI82cPUmiqW8PtaaHz("hhOl6/VUEq+mQVyGto4rnS/pNZHCom6WeachEyfneieYY3GFdHKoa4iQygGkvAQm")
                                                            }
                                                        }
                                                    } else {
                                                        // 新用户（nil 或 NSNull 都会进这里）
                                                        EfqJ9.hlLgQUr6MegOX6Bv.gCQfGMHte60TbdzVw()
                                                        hTU5wZj8E2nU59.showScreen(.fullScreenCover){ _ in
                                                            ijeWMJnw0(hIUsWqIEhUq3: on98qnn55lS6bK68e, nw1qv: nAT4VBfqN62FOc8x6XFADpNqJ["V479/ySOsucS0vXiEwceFA==".bFHEatcgE4zzU9TCfDonsu()] as? String ?? "")
                                                        }
                                                    }
                                                }
                                            } else {
                                                EfqJ9.hlLgQUr6MegOX6Bv.gCQfGMHte60TbdzVw()
                                                QlzJ4yJcxJXY2paN.rmjXXUocPJY2DEcTxiziKU6Nehjz1q.m3nArFwdHhI82cPUmiqW8PtaaHz(cmBllstUOfe.message,z2E1geUN5miQ95SpoCG: false)
                                            }
                                            
                                        case .failure(_):
                                            EfqJ9.hlLgQUr6MegOX6Bv.gCQfGMHte60TbdzVw()
                                            QlzJ4yJcxJXY2paN.rmjXXUocPJY2DEcTxiziKU6Nehjz1q.m3nArFwdHhI82cPUmiqW8PtaaHz("hhOl6/VUEq+mQVyGto4rnS/pNZHCom6WeachEyfneieYY3GFdHKoa4iQygGkvAQm")
                                        }
                                    }
                                case .failure(let u0lXlYLQiGrjGGOpB9Mp as NSError):
                                    if u0lXlYLQiGrjGGOpB9Mp.code == GIDSignInError.canceled.rawValue {
                                        QlzJ4yJcxJXY2paN.rmjXXUocPJY2DEcTxiziKU6Nehjz1q.m3nArFwdHhI82cPUmiqW8PtaaHz("ID7LhJN2TVG+G1sA+veqBw==")
                                    } else {
                                        QlzJ4yJcxJXY2paN.rmjXXUocPJY2DEcTxiziKU6Nehjz1q.m3nArFwdHhI82cPUmiqW8PtaaHz("I0NOjWtZlN6xjoiCBBXY9aqHi5gINpg4EegToEgi9RE=")
                                    }
                                    EfqJ9.hlLgQUr6MegOX6Bv.gCQfGMHte60TbdzVw()
                                }
                            }
                        }label:{
                            RoundedRectangle(cornerRadius: 36)
                                .fill(Color.white.opacity(0.15))
                                .frame(height: 48)
                                .overlay(alignment: .center) {
                                    HStack{
                                        RoundedRectangle(cornerRadius: 0)
                                            .fill(Color.clear)
                                            .frame(width: 24,height: 24)
                                            .overlay {
                                                ZJ7h766mz(tMmEWWlfgUag: "p4Yrh5nhh4jpLxEbwXhHLe")
                                            }
                                        Spacer()
                                    }
                                    .padding(.leading,24)
                                    Text("GqyBR3olQZduFJKAM8yvTA==".bFHEatcgE4zzU9TCfDonsu())
                                        .g0LIIcoZQsOjyND9(
                                            size: 16,
                                            weight: .semibold,
                                        )
                                }
                        }
                        .padding(.horizontal,36)
                        //                        RoundedRectangle(cornerRadius: 36)
                        //                            .fill(Color.white.opacity(0.15))
                        //                            .frame(height: 48)
                        //                            .overlay(alignment: .center) {
                        //                                HStack{
                        //                                    RoundedRectangle(cornerRadius: 0)
                        //                                        .fill(Color.clear)
                        //                                        .frame(width: 24,height: 24)
                        //                                        .overlay {
                        //                                            ZJ7h766mz(tMmEWWlfgUag: "bnrAYa3PAg0WbL3lpWXzVp2Jmt2I")
                        //                                        }
                        //                                    Spacer()
                        //                                }
                        //                                .padding(.leading,24)
                        //                                Text("I9zk5wRlDKY72GaixML2yw==".bFHEatcgE4zzU9TCfDonsu())
                        //                                    .g0LIIcoZQsOjyND9(
                        //                                        size: 16,
                        //                                        weight: .semibold,
                        //                                    )
                        //                            }
                        //                            .padding(.horizontal,36)
                    }
                    VStack(spacing: 0){
                        HStack(spacing: 0) { Text("JYw50MN182cCw/XQmmjS00do2RvFcYO7hBzR/X2HSMb5KknzdLCg2neQVYUB5tUp".bFHEatcgE4zzU9TCfDonsu())
                                .font(Font.custom("gz4QHFqRS4dH1OeOv3Zirg==".bFHEatcgE4zzU9TCfDonsu(), size: 14))
                                .foregroundColor(Color.white.opacity(0.6))
                            Text("LthRlqGNyy1pLGzLW6oPFbY75tezSGSixeV2YIfjVYc=".bFHEatcgE4zzU9TCfDonsu())
                                .font(Font.custom("gz4QHFqRS4dH1OeOv3Zirg==".bFHEatcgE4zzU9TCfDonsu(), size: 14))
                                .foregroundColor(Color(red: 23/255, green: 220/255, blue: 1))
                                .underline()
                                .onTapGesture {
                                    hTU5wZj8E2nU59.showScreen(.fullScreenCover){ _ in
                                        R4IDIKA6NUAIJGfAL9RJRoayyWWGY1k3(irJBAop3c1cEIKUf3jOsmjxJfVg: "fUNf8DP2p07ad1dMO78xE4HfmeOOggfY3vBbW3W/mQ8=".bFHEatcgE4zzU9TCfDonsu())
                                    }
                                }
                        }
                        HStack(spacing: 0) {
                            Text("nkiPru+/RU0VoViG0Mhhnw==".bFHEatcgE4zzU9TCfDonsu())
                                .font(Font.custom("gz4QHFqRS4dH1OeOv3Zirg==".bFHEatcgE4zzU9TCfDonsu(), size: 14))
                                .foregroundColor(Color.white.opacity(0.6))
                            Text("BMU2rOSZsGzV15V9gs8+mA==".bFHEatcgE4zzU9TCfDonsu())
                                .font(Font.custom("gz4QHFqRS4dH1OeOv3Zirg==".bFHEatcgE4zzU9TCfDonsu(), size: 14))
                                .foregroundColor(Color(red: 23/255, green: 220/255, blue: 1))
                                .underline()
                                .onTapGesture {
                                    hTU5wZj8E2nU59.showScreen(.fullScreenCover){ _ in
                                        R4IDIKA6NUAIJGfAL9RJRoayyWWGY1k3(irJBAop3c1cEIKUf3jOsmjxJfVg: "fUNf8DP2p07ad1dMO78xEwavMJ46oeOYnRRZ7o2dxIrFsohu7RpgADAIjnU3PwA7".bFHEatcgE4zzU9TCfDonsu())
                                    }
                                }
                        }
                    }
                    .padding(.horizontal,32)
                    .padding(.bottom,67)
                }
            }
        }.ignoresSafeArea()
    }
    
    func dy8ovFCSzlHO2h() -> UIViewController {
        UIApplication.shared.connectedScenes
            .compactMap { ($0 as? UIWindowScene)?.keyWindow }
            .first?.rootViewController ?? UIViewController()
    }
}
